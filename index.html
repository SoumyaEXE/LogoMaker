<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="theme-color" content="#0d0d0d">
    <meta name="keywords" content="pornhub, logo, maker, funny, meme, custom, generator, style">
    <meta name="description" content="Create custom logos in the iconic PornHub style with this fun, modern generator.">
    <meta name="author" content="Soumyadeep Dey">
    <meta name="reply-to" content="soulsoumya1234@gmail.com">
    <meta name="url" content="https://logohub.vercel.app">
    <meta name="copyright" content="Soumyadeep Dey">

    <title>PornHub Style Logo Maker</title>

    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" type="image/png" href="favicon.png">

    <style>
        @font-face {
            font-family: 'DIN Next Pro';
            src: url('/fonts/DINNextPro-Bold.woff2') format('woff2');
            font-weight: 700;
            font-style: normal;
            font-display: swap;
        }
    </style>
</head>
<body>
    <div class="loading-screen" id="loading-screen">
        <div class="loading-logo">
            <span class="loading-text">Porn</span>
            <span class="loading-hub">Hub</span>
        </div>
        <p>Loading your logo maker...</p>
    </div>

    <main role="main" aria-labelledby="main-title" style="display: none;" id="main-content">
        <div class="container">
            <h1 id="main-title" class="mt-4">PornHub Style Logo Maker</h1>
            <div class="tip" id="tip">
                <div class="tip-inner">Click the text below to edit your logo.</div>
            </div>
            <div class="row">
                <div class="col-md-7 mb-4">
                    <div class="pornhub-wrapper" id="pornhub-wrapper">
                        <div class="pornhub-fill" id="pornhub-fill"></div>
                        <div class="pornhub" id="pornhub" role="textbox" aria-label="Editable PornHub style logo">
                            <div class="porn-text" id="porn-text" contenteditable="true" spellcheck="false" autocorrect="off" autocapitalize="on" aria-label="First part of logo">Porn</div>
                            <div class="hub-text" id="hub-text" contenteditable="true" spellcheck="false" autocorrect="off" autocapitalize="off" aria-label="Second part of logo">Hub</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-5">
                    <form aria-label="Logo customization form">
                        <div class="form-row">
                            <div class="form-group col-6">
                                <label for="width">Width (px)</label>
                                <input type="number" class="form-control" id="width" value="1024" min="1" max="4096" placeholder="1024" aria-describedby="width-help">
                                <small id="width-help" class="form-text text-muted">Max 4096px</small>
                            </div>
                            <div class="form-group col-6">
                                <label for="height">Height (px)</label>
                                <input type="number" class="form-control" id="height" value="768" min="1" max="4096" placeholder="768" aria-describedby="height-help">
                                <small id="height-help" class="form-text text-muted">Max 4096px</small>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-6">
                                <label for="font-size">Font Size (px)</label>
                                <input type="number" class="form-control" id="font-size" value="24" min="1" max="1000" placeholder="24" aria-describedby="font-size-help">
                                <small id="font-size-help" class="form-text text-muted">Auto adjusts if enabled</small>
                            </div>
                            <div class="form-group col-6 d-flex align-items-end">
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" id="font-size-auto" class="custom-control-input" checked aria-label="Enable auto font size">
                                    <label class="custom-control-label" for="font-size-auto">Auto Font Size</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-6">
                                <label>Theme</label>
                                <div class="form-row">
                                    <div class="form-group col-6 mb-0">
                                        <div class="custom-control custom-radio">
                                            <input type="radio" id="theme-dark" name="theme" class="custom-control-input" checked aria-label="Dark theme">
                                            <label class="custom-control-label" for="theme-dark">Dark</label>
                                        </div>
                                    </div>
                                    <div class="form-group col-6 mb-0">
                                        <div class="custom-control custom-radio">
                                            <input type="radio" id="theme-light" name="theme" class="custom-control-input" aria-label="Light theme">
                                            <label class="custom-control-label" for="theme-light">Light</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-6">
                                <label>Style</label>
                                <div class="form-row">
                                    <div class="form-group col-6 mb-0">
                                        <div class="custom-control custom-radio">
                                            <input type="radio" id="style-1" name="style" class="custom-control-input" checked aria-label="Horizontal style">
                                            <label class="custom-control-label" for="style-1">Horizontal</label>
                                        </div>
                                    </div>
                                    <div class="form-group col-6 mb-0">
                                        <div class="custom-control custom-radio">
                                            <input type="radio" id="style-2" name="style" class="custom-control-input" aria-label="Vertical style">
                                            <label class="custom-control-label" for="style-2">Vertical</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-6">
                                <label for="filename">Filename</label>
                                <input type="text" id="filename" class="form-control" value="logo.jpg" placeholder="logo.jpg" spellcheck="false" autocorrect="off" autocapitalize="off" aria-describedby="filename-help">
                                <small id="filename-help" class="form-text text-muted">e.g., mylogo.jpg</small>
                            </div>
                            <div class="form-group col-6 d-flex align-items-end">
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" id="high-res" class="custom-control-input" aria-label="Enable high resolution output">
                                    <label class="custom-control-label" for="high-res">High Resolution</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-4">
                                <button type="button" id="save" class="btn btn-lg btn-block btn-outline-primary" aria-label="Save logo as image">Save Image</button>
                            </div>
                            <div class="form-group col-4">
                                <button type="button" id="reset" class="btn btn-lg btn-block btn-outline-secondary" aria-label="Reset form to default">Reset</button>
                            </div>
                            <div class="form-group col-4">
                                <button type="button" id="share" class="btn btn-lg btn-block btn-outline-warning" aria-label="Share logo">Share</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <footer class="mastfoot my-5 pt-5 text-center" id="footer" style="display: none;">
        <p>Made with â™¥ by <a href="https://github.com/SoumyaEXE" target="_blank" rel="noopener noreferrer">Soumyadeep Dey</a>.</p>
    </footer>

    <script>
        (() => {
            // DOM Elements
            const elements = {
                loadingScreen: document.getElementById('loading-screen'),
                mainContent: document.getElementById('main-content'),
                footer: document.getElementById('footer'),
                pornhub: document.getElementById('pornhub'),
                pornhubWrapper: document.getElementById('pornhub-wrapper'),
                pornhubFill: document.getElementById('pornhub-fill'),
                pornText: document.getElementById('porn-text'),
                hubText: document.getElementById('hub-text'),
                width: document.getElementById('width'),
                height: document.getElementById('height'),
                fontSize: document.getElementById('font-size'),
                fontSizeAuto: document.getElementById('font-size-auto'),
                themeDark: document.getElementById('theme-dark'),
                themeLight: document.getElementById('theme-light'),
                style1: document.getElementById('style-1'),
                style2: document.getElementById('style-2'),
                filename: document.getElementById('filename'),
                highRes: document.getElementById('high-res'),
                save: document.getElementById('save'),
                reset: document.getElementById('reset'),
                share: document.getElementById('share'),
                tip: document.getElementById('tip')
            };

            // State
            let state = {
                pornText: 'Porn',
                hubText: 'Hub',
                width: 1024,
                height: 768,
                fontSize: 24,
                fontSizeAuto: true,
                lightTheme: false,
                style2: false,
                filename: 'logo.jpg',
                highRes: false
            };

            const defaultState = { ...state };

            // Utility Functions
            const sanitizeText = (text) => text.replace(/[^a-zA-Z0-9\s]/g, '').trim();
            const formatInt = (value, defaultValue = 0, min = -Infinity, max = Infinity) => {
                const num = parseInt(value);
                return Math.max(min, Math.min(isNaN(num) ? defaultValue : num, max));
            };
            const formatFloat = (value, defaultValue = 0, min = -Infinity, max = Infinity) => {
                const num = parseFloat(value);
                return Math.max(min, Math.min(isNaN(num) ? defaultValue : num, max));
            };
            const debounce = (func, wait) => {
                let timeout;
                return (...args) => {
                    clearTimeout(timeout);
                    timeout = setTimeout(() => func(...args), wait);
                };
            };
            const downloadCanvas = (canvas, filename) => {
                const link = document.createElement('a');
                link.download = filename;
                link.href = canvas.toDataURL('image/jpeg', 1);
                link.click();
            };
            const getTextHeight = (font) => {
                const span = document.createElement('span');
                span.textContent = 'Hg';
                span.style.font = font;
                const block = document.createElement('div');
                block.style.display = 'inline-block';
                block.style.width = '1px';
                block.style.height = '0';
                const div = document.createElement('div');
                div.style.position = 'absolute';
                div.append(span, block);
                document.body.appendChild(div);
                block.style.verticalAlign = 'baseline';
                const ascent = block.offsetTop - span.offsetTop;
                block.style.verticalAlign = 'bottom';
                const height = block.offsetTop - span.offsetTop;
                document.body.removeChild(div);
                return { ascent, height, descent: height - ascent };
            };

            // Loading Screen
            const hideLoadingScreen = () => {
                elements.loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    elements.loadingScreen.style.display = 'none';
                    elements.mainContent.style.display = 'block';
                    elements.footer.style.display = 'block';
                    elements.mainContent.style.opacity = '0';
                    elements.footer.style.opacity = '0';
                    requestAnimationFrame(() => {
                        elements.mainContent.style.opacity = '1';
                        elements.footer.style.opacity = '1';
                    });
                }, 500);
            };

            // Update State
            const updateState = () => {
                state = {
                    pornText: sanitizeText(elements.pornText.textContent),
                    hubText: sanitizeText(elements.hubText.textContent),
                    width: formatInt(elements.width.value, 1024, 1, 4096),
                    height: formatInt(elements.height.value, 768, 1, 4096),
                    fontSize: formatFloat(elements.fontSize.value, 24, 1, 1000),
                    fontSizeAuto: elements.fontSizeAuto.checked,
                    lightTheme: elements.themeLight.checked,
                    style2: elements.style2.checked,
                    filename: sanitizeText(elements.filename.value) || 'logo.jpg',
                    highRes: elements.highRes.checked
                };
            };

            // Update Query Params
            const updateQueryParams = () => {
                const params = new URLSearchParams();
                for (const [key, value] of Object.entries(state)) {
                    if (value !== defaultState[key]) {
                        params.set(key, value);
                    }
                }
                const url = `${window.location.pathname}?${params.toString()}${window.location.hash}`;
                history.replaceState({}, '', url);
            };

            // Load Query Params
            const loadQueryParams = () => {
                const params = new URLSearchParams(window.location.search);
                elements.pornText.textContent = sanitizeText(params.get('pornText') || state.pornText);
                elements.hubText.textContent = sanitizeText(params.get('hubText') || state.hubText);
                elements.width.value = formatInt(params.get('width'), state.width, 1, 4096);
                elements.height.value = formatInt(params.get('height'), state.height, 1, 4096);
                elements.fontSize.value = formatFloat(params.get('fontSize'), state.fontSize, 1, 1000);
                elements.fontSizeAuto.checked = params.get('fontSizeAuto') !== 'false';
                elements.themeLight.checked = params.get('lightTheme') === 'true';
                elements.themeDark.checked = !elements.themeLight.checked;
                elements.style2.checked = params.get('style2') === 'true';
                elements.style1.checked = !elements.style2.checked;
                elements.filename.value = sanitizeText(params.get('filename') || state.filename);
                elements.highRes.checked = params.get('highRes') === 'true';
                updateState();
                updateUI();
            };

            // Update UI
            const updateUI = () => {
                const aspectRatio = state.width / state.height;
                elements.pornhubFill.style.paddingTop = `${100 / aspectRatio}%`;
                elements.pornhubWrapper.style.maxWidth = `${elements.pornhubWrapper.offsetParent.clientWidth * aspectRatio}px`;
                elements.pornhub.classList.toggle('light', state.lightTheme);
                elements.pornhub.classList.toggle('style-2', state.style2);
                elements.width.value = state.width;
                elements.height.value = state.height;
                adjustFontSize();
                updateQueryParams();
                updateTitle();
            };

            // Adjust Font Size
            const adjustFontSize = () => {
                const factor = elements.pornhub.offsetWidth / state.width;
                if (!isFinite(factor) || factor === 0) {
                    elements.pornhub.style.fontSize = '0px';
                    state.fontSize = 0;
                    return;
                }
                let fs = state.fontSize * factor;
                if (state.fontSizeAuto) {
                    fs = state.width / 8 * factor;
                    elements.pornhub.style.fontSize = `${fs}px`;
                    while ((elements.pornhub.scrollWidth > elements.pornhub.clientWidth || elements.pornhub.scrollHeight > elements.pornhub.clientHeight) && fs > 0) {
                        fs -= 0.5;
                        elements.pornhub.style.fontSize = `${fs}px`;
                    }
                    fs -= elements.pornhub.offsetWidth * 0.01;
                }
                elements.pornhub.style.fontSize = `${Math.max(0, fs)}px`;
                state.fontSize = fs / factor;
                elements.fontSize.value = state.fontSize.toFixed(2);
            };

            // Update Title
            const updateTitle = () => {
                const text = state.pornText + state.hubText;
                document.title = text !== defaultState.pornText + defaultState.hubText ? `${text} - PornHub Style Logo Maker` : 'PornHub Style Logo Maker';
            };

            // Reset Form
            const resetForm = () => {
                elements.pornText.textContent = defaultState.pornText;
                elements.hubText.textContent = defaultState.hubText;
                elements.width.value = defaultState.width;
                elements.height.value = defaultState.height;
                elements.fontSize.value = defaultState.fontSize;
                elements.fontSizeAuto.checked = defaultState.fontSizeAuto;
                elements.themeDark.checked = !defaultState.lightTheme;
                elements.themeLight.checked = defaultState.lightTheme;
                elements.style1.checked = !defaultState.style2;
                elements.style2.checked = defaultState.style2;
                elements.filename.value = defaultState.filename;
                elements.highRes.checked = defaultState.highRes;
                updateState();
                updateUI();
            };

            // Share Logo
            const shareLogo = async () => {
                try {
                    const canvas = await generateCanvas();
                    const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/jpeg', 1));
                    const file = new File([blob], state.filename, { type: 'image/jpeg' });
                    if (navigator.share) {
                        await navigator.share({
                            title: `${state.pornText}${state.hubText} Logo`,
                            text: 'Check out my custom PornHub-style logo!',
                            files: [file]
                        });
                    } else {
                        alert('Web Share API not supported. Save the image and share manually.');
                    }
                } catch (error) {
                    alert(`Error sharing logo: ${error.message}`);
                }
            };

            // Generate Canvas
            const generateCanvas = () => {
                const canvas = document.createElement('canvas');
                const scale = state.highRes ? 2 : 1;
                canvas.width = state.width * scale;
                canvas.height = state.height * scale;
                const ctx = canvas.getContext('2d');
                const bgColor = state.lightTheme ? '#ffffff' : '#0d0d0d';
                const textColor = state.lightTheme ? '#000000' : '#ffffff';
                const pornhubColor = '#ff9000';

                ctx.scale(scale, scale);
                ctx.fillStyle = bgColor;
                ctx.fillRect(0, 0, state.width, state.height);
                ctx.translate(state.width / 2, state.height / 2);
                ctx.font = `700 ${state.fontSize}px 'DIN Next Pro', 'Poppins', sans-serif`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';

                const pornWidth = ctx.measureText(state.pornText).width;
                const hubWidth = ctx.measureText(state.hubText).width;
                const padding = state.fontSize * 0.2;
                const lineHeight = state.fontSize * 1.25;
                const radius = state.fontSize * 0.1;

                ctx.fillStyle = textColor;
                const pornX = state.style2 ? 0 : -(pornWidth + hubWidth + padding * 2) / 2;
                const pornY = state.style2 ? -lineHeight / 2 : 0;
                ctx.fillText(state.pornText, pornX, pornY);

                ctx.fillStyle = pornhubColor;
                const hubX = state.style2 ? -hubWidth / 2 - padding : -(pornWidth + hubWidth + padding * 2) / 2 + pornWidth + padding;
                const hubY = state.style2 ? lineHeight / 2 - lineHeight : -lineHeight / 2;
                const hubW = hubWidth + padding * 2;
                ctx.beginPath();
                ctx.moveTo(hubX, hubY + radius);
                ctx.lineTo(hubX, hubY + lineHeight - radius);
                ctx.arcTo(hubX, hubY + lineHeight, hubX + radius, hubY + lineHeight, radius);
                ctx.lineTo(hubX + hubW - radius, hubY + lineHeight);
                ctx.arcTo(hubX + hubW, hubY + lineHeight, hubX + hubW, hubY + lineHeight - radius, radius);
                ctx.lineTo(hubX + hubW, hubY + radius);
                ctx.arcTo(hubX + hubW, hubY, hubX + hubW - radius, hubY, radius);
                ctx.lineTo(hubX + radius, hubY);
                ctx.arcTo(hubX, hubY, hubX, hubY + radius, radius);
                ctx.fill();

                ctx.fillStyle = bgColor;
                ctx.fillText(state.hubText, state.style2 ? 0 : -(pornWidth + hubWidth + padding * 2) / 2 + pornWidth + padding * 2, state.style2 ? lineHeight / 2 : 0);

                return canvas;
            };

            // Save Image
            const saveImage = async () => {
                elements.save.disabled = true;
                elements.save.textContent = 'Saving...';
                try {
                    const canvas = await generateCanvas();
                    downloadCanvas(canvas, state.filename);
                } catch (error) {
                    alert(`Error saving image: ${error.message}`);
                } finally {
                    elements.save.disabled = false;
                    elements.save.textContent = 'Save Image';
                }
            };

            // Hide Tip
            const hideTip = () => {
                elements.tip.style.height = `${elements.tip.scrollHeight}px`;
                elements.tip.classList.add('tip-hidden');
                requestAnimationFrame(() => {
                    elements.tip.style.height = '0';
                });
            };

            // Event Listeners
            elements.width.addEventListener('input', debounce(() => {
                updateState();
                updateUI();
            }, 200));
            elements.height.addEventListener('input', debounce(() => {
                updateState();
                updateUI();
            }, 200));
            elements.fontSize.addEventListener('input', () => {
                elements.fontSizeAuto.checked = false;
                updateState();
                adjustFontSize();
                updateUI();
            });
            elements.fontSizeAuto.addEventListener('change', () => {
                updateState();
                adjustFontSize();
                updateUI();
            });
            elements.themeDark.addEventListener('change', updateUI);
            elements.themeLight.addEventListener('change', updateUI);
            elements.style1.addEventListener('change', updateUI);
            elements.style2.addEventListener('change', updateUI);
            elements.filename.addEventListener('input', debounce(() => {
                updateState();
                updateQueryParams();
            }, 200));
            elements.highRes.addEventListener('change', () => {
                updateState();
                updateUI();
            });
            elements.pornText.addEventListener('input', debounce(() => {
                updateState();
                adjustFontSize();
                updateUI();
            }, 100));
            elements.hubText.addEventListener('input', debounce(() => {
                updateState();
                adjustFontSize();
                updateUI();
            }, 100));
            elements.pornText.addEventListener('keydown', (e) => e.key === 'Enter' && e.preventDefault());
            elements.hubText.addEventListener('keydown', (e) => e.key === 'Enter' && e.preventDefault());
            elements.pornText.addEventListener('focus', hideTip);
            elements.hubText.addEventListener('focus', hideTip);
            elements.tip.addEventListener('click', () => {
                hideTip();
                setTimeout(() => {
                    elements.pornText.focus();
                    const range = document.createRange();
                    range.selectNodeContents(elements.pornText);
                    const selection = window.getSelection();
                    selection.removeAllRanges();
                    selection.addRange(range);
                }, 500);
            });
            elements.save.addEventListener('click', saveImage);
            elements.reset.addEventListener('click', resetForm);
            elements.share.addEventListener('click', shareLogo);
            elements.pornhub.addEventListener('click', (e) => {
                if (e.target !== elements.pornText && e.target !== elements.hubText) {
                    const rect = e.target.getBoundingClientRect();
                    const target = state.style2
                        ? e.clientY - rect.top < elements.pornhub.clientHeight / 2
                            ? elements.pornText
                            : elements.hubText
                        : e.clientX - rect.left < elements.pornhub.clientWidth / 2
                            ? elements.pornText
                            : elements.hubText;
                    target.focus();
                    const range = document.createRange();
                    range.selectNodeContents(target);
                    const selection = window.getSelection();
                    selection.removeAllRanges();
                    selection.addRange(range);
                }
            });
            window.addEventListener('resize', debounce(updateUI, 100));

            // Error Handling
            window.onerror = (msg, url, line) => {
                alert(`Error: ${msg}\nURL: ${url}\nLine: ${line}`);
                return false;
            };

            // Initialize
            setTimeout(hideLoadingScreen, 2000);
            loadQueryParams();
        })();
    </script>
</body>
</html>
